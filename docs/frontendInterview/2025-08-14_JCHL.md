# 金财互联 - 前端面试

> 面试时间：2025-08-14
>
> 公司全称：方欣科技有限公司
>
> 公司位置：广州市黄埔区科学大道82-88号（双号）绿地中央广场C3栋

## 面试题

###### TypeScript 中 type 和 interface 有什么区别？

::: details 查看答案
1. 扩展方式不同：interface 使用 extends；type 使用 &（交叉类型）
```typescript
// interface 使用 extends
interface Animal {
  name: string
}

interface Dog extends Animal {
  bark(): void
}

// type 使用 &（交叉类型）
type Animal = {
  name: string
}

type Dog = Animal & {
  bark(): void
}
```

2. interface 支持重复定义来进行合并声明，type 不允许重复定义：
```typescript
interface User {
  name: string
}

interface User {
  age: number
}
// 最终 User = {name: string; age: number}

type User = {name: string}
type User = {age: number} // ❌ Error: Duplicate identifier 'User'
```

3. interface 适合定义对象结构、需要扩展或合并的情况、类实现（implement）；type 适合定义联合类型、元组、复杂类型、使用 typeof、keyof、in等高级类型操作
```typescript
// interface 适合定义对象结构、需要扩展或合并的情况、类实现（implement）
class Student implements Person { ... }

// type 适合定义联合类型、元组、复杂类型、使用 typeof、keyof、in等高级类型操作
type Status = "success" | "error"
type Point = [number, number]
type Keys = keyof Person
type PartialPerson = Partial<Person>

```
:::

---

###### 前端的安全防范措施有哪些？

::: details 查看答案
1. 跨站脚本攻击（XSS）防护：使用 DOMPurify 等库对用户输入进行净化。
2. 跨站请求伪造（CSRF）防护：设置 CSRF 随机 Token 的表单隐藏域；服务器响应头添加 ​Set-Cookie 属性设置值 SameSit=Strict。
3. 敏感数据保护：避免前端存储敏感信息​，​​加密敏感数据再进行传输。​
:::

---

###### 二次封装组件，如何把原组件所有属性、方法、插槽开放出去直接使用？

::: details 查看答案
1. Vue2 中：`v-bind=$attrs` 透传所有属性，`v-on=$listeners` 透传所有方法，`<slot></slot>` 透传默认插槽，遍历 `$scopedSlots` 透传所有具名插槽。
```vue
<template>
  <el-button 
    v-bind="$attrs" 
    v-on="$listeners"
    class="my-wrapper"
  >
    <!-- 透传默认插槽 -->
    <slot></slot>
    
    <!-- 透传具名插槽 -->
    <template v-for="(_, slot) in $scopedSlots" v-slot:[slot]="props">
      <slot :name="slot" v-bind="props"/>
    </template>
  </el-button>
</template>

<script>
export default {
  inheritAttrs: false // 防止属性被应用到根元素
}
</script>
```

2. Vue3 中，`v-bind=$attrs` 透传所有属性和方法，遍历 `$slots` 透传所有插槽。
```vue
<template>
  <el-button 
    v-bind="mergedProps"
    v-on="$attrs"
  >
    <!-- 透传所有插槽 -->
    <template v-for="(_, name) in $slots" #[name]="slotData">
      <slot :name="name" v-bind="slotData || {}"/>
    </template>
  </el-button>
</template>

<script setup>
import { useAttrs, useSlots } from 'vue'

const attrs = useAttrs()
const slots = useSlots()

// 可以在这里添加/修改属性
const mergedProps = {
  ...attrs,
  type: attrs.type || 'primary'
}
</script>
```

3. React 中，使用 ...rest 扩展运算符暴露所有属性和方法。
```jsx
function MyButton({ children, ...rest }) {
  return (
    <AntButton 
      {...rest}
      className={`my-wrapper ${rest.className || ''}`}
    >
      {children}
    </AntButton>
  );
}
```
:::

---

###### Vue3 中，子组件模板中只有单个根元素且根元素通过 `v-bind='attrs'` 进行属性和方法透传，父组件传递属性或方法时，会传递到哪里？当子组件模板中有两个根标签且这两个根标签都通过 `v-bind='attrs'` 进行属性和方法透传，父组件在传递属性或方法时，会传递给哪一个标签？

::: details 查看答案
单个根元素 + `v-bind="$attrs"`：父组件传递的非 props/emits 属性​​都会自动绑定到这个根元素上。

多个根元素 + 都使用 v-bind="$attrs"：父组件传递的非 props/emits 属性​​会同时应用到所有根元素上。
:::

---

###### MicroApp 沙箱机制的原理？

::: details 查看答案
主要通过 Proxy 代理来为每个子应用创建一个独立、隔离的 JavaScript 运行环境。
:::

---

###### MicroApp 主应用如何向子应用传递数据？

::: details 查看答案
1. data 属性传递。
2. 主应用通过 window 对象传递。
3. 主应用通过 `microApp.setData('child-app', { updatedAt: Date.now() })` 发送数据给指定子应用。
4. 主应用通过 `microApp.setGlobalData({ version: '1.0.0' })` 发送全局数据（所有子应用能够接收访问到）。
5. 主应用通过 `microApp.dispath('child-app', { type: 'route-change', path: '/dashboard'})` 发送事件的方式传递数据。
6. 主应用访问子应用通过 url 传参的方式传递数据。
7. 使用 localStorage 传递数据。

:::

---

###### MicroApp 主应用路由到子应用的方式有几种？

::: details 查看答案
1. 通过 url 属性进行路由。
:::

---

###### 说说双 token 校验的实现过程？

::: details 查看答案
用户进行登录后，将后端返回的 token 和 refreshToken（刷新 token）存到本地储存中。当 token 失效时，发送请求后会执行响应拦截器的错误函数，在错误拦截器中拦截到状态码 401 则根据 refreshToken 重新去获取新的 token，如果能获取到新的 token，则将新的 token 存入本地，并重发刚刚错误的请求，如果获取不到新的 token，说明 refreshToken 失效了，则弹出退出登录的提示框。
:::

---

###### 双 token 校验，获取到新的 token 后，怎么保证刚刚失败的所有请求能够重新发送？

::: details 查看答案
将所有失败的请求都保存到一个数组中，当获取到新的 token 后，将数组中的请求全部重新发送。
:::

---

###### 双 token 校验，获取到新的 token 后重发所有失败的请求，如何让请求成功后的那些操作逻辑能够继续执行？

::: details 查看答案
在一个新的 Promise 中执行原始请求，通过 resolve() 可以触发外部调用方的 then 回调。
:::

---

###### CSS 中 + 与 ~ 符号的区别？

::: details 查看答案
两者都是兄弟选择器。其中 `+` 选中的是紧随其后的相邻兄弟元素；`~` 选中的是其后所有的兄弟元素。
:::

---

###### vue2 组件中使用了 mixin，且 mixin 中也有生命周期函数，生命周期函数的执行顺序是怎样的？

::: details 查看答案
先执行 mixin 的生命周期函数，再执行组件的生命周期函数。`mixin` 的 `beforeCreate` → 组件的 `beforeCreate` → mixin 的 `created` → 组件的 `created`...
:::

---
